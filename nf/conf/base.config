/*
 * COSAP-NX Base Configuration
 * Core settings for pipeline execution
 */

// Default resource limits
process {
    cpus = 4
    memory = '8 GB'
    time = '4h'

    // No automatic retries (matching COSAP behavior)
    errorStrategy = 'terminate'
    maxRetries = 0

    // BWA-specific settings (v0.1.2)
    withName: BWA_ALIGN {
        cpus = 8           // BWA benefits from more threads
        memory = '12 GB'   // Sufficient for index loading (chr20 uses ~8GB)
        time = '6h'        // Alignment can take longer
    }
}

// Execution reports and tracing
trace {
    enabled = true
    file = "${params.outdir}/logs/trace.txt"
    overwrite = true
}

report {
    enabled = true
    file = "${params.outdir}/logs/report.html"
    overwrite = true
}

timeline {
    enabled = true
    file = "${params.outdir}/logs/timeline.html"
    overwrite = true
}

// Caching
resume = true
